<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
    <title>Hello</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>

<div class="container">
    <div th:replace="fragments/a_bodyHeader :: bodyHeader"/>
    <div class="jumbotron">
        <h1 class="mt-3 text-primary">DOT NEWS</h1>
        <div th:if="${userName != null}">
            <p class="lead mt-5">관리자 전용 : 오늘의 뉴스 받아오기</p>
            <p>
                <a href="/admin/s3read" class="btn btn-primary mt-3">뉴스 받아오기</a>
            </p>
            <div th:if="${readMessage}" class="alert alert-info alert-dismissible fade show mt-3" role="alert">
                <span th:text="${readMessage}"></span>
            </div>
        </div>

        <div th:if="${userName != null}">
            <p class="lead mt-5">관리자 전용 : 날짜로 뉴스 받아오기</p>

            <form  th:if="${dateReadMessage==null}" role="form" action="/admin/s3read" method="post">
                <div class="row mb-3">
                    <div class="col form-group" style="width: 80%">
                        <input type="text" name="newsDate" class="form-control" id="newsDate"
                               placeholder="yyyyMMdd (ex. 20210524)를 입력하세요" srequired>
                    </div>

                    <div class="col-2">
                        <button type="submit" class="btn btn-outline-dark btn-sm"
                                style="font-size: small; width:100%; padding: .375rem .75rem">읽어오기</button>
                    </div>
                </div>
            </form>
            <div th:if="${dateReadMessage}" class="alert alert-info alert-dismissible fade show mt-3" role="alert">
                <span th:text="${dateReadMessage}"></span>
            </div>
        </div>

        <div th:if="${userName != null}">
            <p class="lead mt-5">관리자 전용 : 구독자 이메일 뉴스 보내기</p>
            <p>
                <a href="/admin/send-news" class="btn btn-primary mt-3">뉴스 이메일로 보내기</a>
            </p>
            <div th:if="${sendMessage}" class="alert alert-info alert-dismissible fade show mt-3" role="alert">
                <span th:text="${sendMessage}"></span>
            </div>
            <div th:if="${noDataMessage}" class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                <span th:text="${noDataMessage}"></span>
            </div>
        </div>


    </div>
    <div th:replace="fragments/footer :: footer"/>
</div> <!-- /container -->

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="/js/app/index.js"></script>
</body>
</html>